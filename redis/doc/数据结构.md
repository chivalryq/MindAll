# 数据结构

## SDS（简单动态字符串）

sds结构体保存了字符串的长度、buf、未使用长度信息。

其中的长度信息保证strcat、len等函数的方便，可以对字符串扩展的时候进行

1. 长度预分配，低于30MB的时候每次分配free长度等于len，高于30MB每次free为1MB。（避免缓冲溢出）
2. 惰性空间释放，缩短字符串会用free记录，不会释放内存
3. 得益于len属性，sds是二进制安全的，不是通过0字符来判断其结尾，所以可以存任意二进制数据。（但是和标准库string.h一起用的时候就不行，因为那里面默认是字符串）
4. 兼容部分C字符串函数

## 链表

redis实现的链表